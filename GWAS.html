<html>

    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css">
        <link rel="stylesheet" href="https://cdn.rawgit.com/Dogfalo/materialize/master/extras/noUiSlider/nouislider.css">
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"></link>

        <!-- Compiled and minified JavaScript -->
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
        <script src="https://cdn.rawgit.com/Dogfalo/materialize/master/extras/noUiSlider/nouislider.min.js"></script>
        <script src="https://cdn.rawgit.com/leongersen/wnumb/master/wNumb.js"></script>
        <!--Let browser know website is optimized for mobile-->


        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
            body: {
                background-color: #eceff1;
            }

            h1: {
                font-size: 200px;
                font-family: 'Roboto Thin';
            }


        </style>
    </head>

    <body>
        <nav class="navbar-fixed">
            <div class="nav-wrapper grey lighten-4">
                <a href="#" class="brand-logo center blue-grey-text darken-3 ">3 Procedures of Predictive Medicine</a>
                <ul id="nav-mobile" class="left hide-on-med-and-down ">
                    <li> <a class="modal-trigger waves-effect waves-light btn" href="#testyourself">Test Yourself</a>
                </ul>
            </div>
        </nav><br>
        <!-- Modal Structure -->
        <div id="testyourself" class="modal modal-fixed-footer">
            <div class="modal-content">
                <h4>Test Yourself</h4>
                <p>Take this quiz to see how much you know about predictive medicine.</p>
                <ul class="collection">
                    <li class="collection-item">
                        <p>How is the HapMap used in GWAS?</p>
                        <form action="#">
                            <p>
                                <input name="group1" type="radio" id="100" />
                                <label for="100">To test the gene's association with a medical disease</label>
                            </p><p>
                                <input name="group1" type="radio" id="80" />
                                <label for="80">To genotype SNPs</label>
                            </p><p>
                                <input name="group1" type="radio" id="60" />
                                <label for="60">To predict non-typed SNPs with typed SNPs</label>
                            </p>
                        </form>
                    </li>
                    <li class="collection-item">
                        <p>What is the second step of GWAS?</p>
                        <form action="#">
                            <p>
                                <input name="group1" type="radio" id="aa" />
                                <label for="aa">Filtering through the data and removing certain individuals</label>
                            </p><p>
                                <input name="group1" type="radio" id="gwas" />
                                <label for="gwas">Filtering through the data and removing certain SNPs</label>
                            </p><p>
                                <input name="group1" type="radio" id="al" />
                                <label for="al">Filtering through the data and removing data that doesn't match with data from the HapMap</label>
                            </p>
                        </form>
                    </li>
                    <li class="collection-item">
                        <p>What was the result of the HapMap project?</p>
                        <form action="#">
                            <p>
                                <input name="group1" type="radio" id="test0" />
                                <label for="test0">A record of past mutations of certain genes</label>
                            </p><p>
                                <input name="group1" type="radio" id="test1" />
                                <label for="test1">A blood test that can determine a person's risk of certain diseases</label>
                            </p><p>
                                <input name="group1" type="radio" id="test2" />
                                <label for="test2">A haplotypic map of the human genome</label>
                            </p>
                        </form>
                    </li>
                    <li class="collection-item" id="final">
                        <p id="score">Complete the quiz and click the check button to see your score here!</p>
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <a onclick="check();" class="modal-action modal-close waves-effect waves-red btn-flat ">Close</a>
                <a href="#final" onclick="check();" class="modal-action waves-effect waves-green btn-flat ">Check</a>
            </div>
        </div>
        <div class="row">
            <div class="carousel carousel-slider col s12 m3 offset-s1 center" data-indicators="true">
                <div class="carousel-fixed-item center">
                    <a href="Procedure3.html" class="btn waves-effect blue-grey white-text darken-text-2">Go Back</a>
                </div>
                <div class="carousel-item blue-grey lighten-4 black-text" href="#one!">
                    <h2>Back</h2>
                    <p class="black-text">The earlier forms of predictive medicine</p>
                </div>
            </div>
            <div class="col s12 m7">
                <form><div id="test5"></div></form>
                <!--<form action="#">
                  <p class="range-field">
                    <input type="range" id="test5" min="1" max="5" value="1" />
                  </p>
              </form>-->
                <div class="carousel carousel-slider center c" data-indicators="true">
                    <div class="carousel-fixed-item center">
                        <a onclick="$('.c').carousel('next')" class="btn waves-effect white grey-text darken-text-2">Next</a>
                    </div>
                    <div class="carousel-item amber white-text" href="#one!">
                        <h2>Genome-wide Association Studies</h2>
                        <h6>First things first</h4>
                        <div class="col s12 m12">
                            <div class="card-panel white">
                                <span class="black-text">
                                    Genome-wide association studies rely on huge amounts of data. Algorithms comb through this data searching for differences in the genetic makeup of individuals. Then the algorithm can find the specific single nucleotide polymorphisms (SNP's) that can be correlated with a medical disease.
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item green white-text" href="#one!">
                        <h2>GWAS</h2>
                        <h6>Step 1</h4>
                        <div class="col s12 m12">
                            <div class="card-panel white">
                                <span class="black-text">
                                    First, we filter through the data and remove SNPs that don't represent significant variability or have large amounts of missing data.
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item blue white-text" href="#two!">
                        <h2>GWAS</h2>
                        <h6>Step 2</h4>
                        <div class="col s12 m12">
                            <div class="card-panel white">
                                <span class="black-text">
                                    Second, we filter through the data and ignore certain individuals for various reasons. Either, we may not have enough data, or the sample could have been contaminated.
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item red white-text" href="#three!">
                        <h2>GWAS</h2>
                        <h6>Step 3</h4>
                        <div class="col s12 m12">
                            <div class="card-panel white">
                                <span class="black-text">
                                    Third, we impute non-typed (non-genotyped) SNPs to our data. Current genotyping systems cannot geneotype all SNPs so we must use external sources. External projects such as the HapMap Project have created haplotypic maps. With these maps, we can predict non-typed SNPs using information we already have about typed SNPs.
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item amber white-text" href="#four!">
                        <h2>GWAS</h2>
                        <h6>Step 4</h4>
                        <div class="col s12 m12">
                            <div class="card-panel white">
                                <span class="black-text">
                                    Fourth, we can determine the association of each SNP with the medical disease. This allows us to identify candidate genes that correspond with the disease.
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item green white-text" href="#four!">
                        <h2>GWAS</h2>
                        <h6>Step 5</h4>
                        <div class="col s12 m12">
                            <div class="card-panel white">
                                <span class="black-text">
                                    Lastly, we test our candidate genes further to establish a direct connection between the SNP and the medical disease. Thus, we can efficiently and (sort of) easily determine the risk of an individual contracting a certain disease with only his or her genetic makeup.
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                $('.carousel.carousel-slider').carousel({
                    fullWidth: true
                });
            });
            var slider = document.getElementById("test5");
            noUiSlider.create(slider, {
             start: 1,
             behaviour:"snap",
             connect: [true,false],
             step: 1,
             range: {
               'min': 1,
               'max': 6
             },
             format: wNumb({
               decimals: 0
             })
            });
            slider.noUiSlider.on('update', function(){
                $('.carousel.c').carousel('set', (slider.noUiSlider.get()-1)); // Move next n times.
            });
            var responses = [];
            var correctAnswers = [3,4,9];
            var correct = 0;
            var forms = document.getElementsByTagName("input");
            function check() {
                correct=0;
                for(var i = 0; i < forms.length; i++) {
                    for(var j = 0; j < correctAnswers.length; j++) {
                        if(i+1===correctAnswers[j]&&forms[i].checked) {
                            correct++;
                        }
                    }
                }
                if(correct<correctAnswers.length) {
                    document.getElementById("score").innerHTML="You got " + correct+"/"+correctAnswers.length+" correct. Kepp trying! You can re-read the page and find the correct answers if you like.";
                } else {
                    document.getElementById("score").innerHTML="You got " + correct+"/"+correctAnswers.length+" correct. Perfect! Thre are more quizzes throughout this website. Go find them!";
                }
                localStorage.gwas=correct;
            }
            $(document).ready(function() {
                $('#testyourself').modal();
            });
        </script>
    </body>

</html>
